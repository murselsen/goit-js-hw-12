{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["// Axios\nimport axios from 'axios';\n// IziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.app-form');\nconst galleryList = document.querySelector('#galleryList');\n\nlet searchText,\n  searchActivePage = 1,\n  searchMaxPage;\n\nconsole.log(`\n  Merhaba! 👋\n  Kodluyoruz Front-End Eğitimi kapsamında hazırlamış olduğum bu projede\n  Axios, IziToast ve SimpleLightbox kütüphanelerini kullanarak bir fotoğraf\n  galerisi oluşturmayı hedefledim. Projeyi beğendiyseniz ⭐️'layarak beni\n  mutlu edebilirsiniz. Eğer projeyi geliştirmek isterseniz lütfen GitHub\n  üzerinden forklayın ve istediğiniz gibi değiştirin. Eğitim sürecinde\n  bana destek olan herkese teşekkür ederim. Hadi başlayalım! 🚀\n\n\n  Search Photos API: https://pixabay.com/api/docs/\n\n  Search Active Page: ${searchActivePage}\n  Search Max Page: ${searchMaxPage}\n  `);\n\nconst galleryItem = photoInfo => {\n  const item = document.createElement('li');\n  item.classList.add('gallery-item');\n  item.dataset.source = photoInfo.largeImageURL;\n\n  const itemLink = document.createElement('a');\n  itemLink.href = photoInfo.largeImageURL;\n  itemLink.classList.add('gallery-link');\n  itemLink.style.color = 'black';\n\n  const img = document.createElement('img');\n  img.src = photoInfo.webformatURL;\n  img.alt = photoInfo.tags;\n  img.width = 360;\n  img.height = 200;\n\n  const contentDiv = document.createElement('div');\n  contentDiv.classList.add('content');\n\n  // Likes\n  const infoDivLikes = document.createElement('div');\n  infoDivLikes.classList.add('info');\n\n  const infoKeyLikes = document.createElement('h5');\n  infoKeyLikes.classList.add('key');\n  infoKeyLikes.textContent = 'Likes';\n  infoDivLikes.appendChild(infoKeyLikes);\n\n  const infoValueLikes = document.createElement('p');\n  infoValueLikes.classList.add('value');\n  infoValueLikes.textContent = photoInfo.likes;\n  infoDivLikes.appendChild(infoValueLikes);\n\n  // Views\n  const infoDivViews = document.createElement('div');\n  infoDivViews.classList.add('info');\n\n  const infoKeyViews = document.createElement('h5');\n  infoKeyViews.classList.add('key');\n  infoKeyViews.textContent = 'Views';\n  infoDivViews.appendChild(infoKeyViews);\n\n  const infoValueViews = document.createElement('p');\n  infoValueViews.classList.add('value');\n  infoValueViews.textContent = photoInfo.views;\n  infoDivViews.appendChild(infoValueViews);\n\n  // Comments\n  const infoDivComments = document.createElement('div');\n  infoDivComments.classList.add('info');\n\n  const infoKeyComments = document.createElement('h5');\n  infoKeyComments.classList.add('key');\n  infoKeyComments.textContent = 'Comments';\n  infoDivComments.appendChild(infoKeyComments);\n\n  const infoValueComments = document.createElement('p');\n  infoValueComments.classList.add('value');\n  infoValueComments.textContent = photoInfo.views;\n  infoDivComments.appendChild(infoValueComments);\n\n  // Comments\n  const infoDivDownloads = document.createElement('div');\n  infoDivDownloads.classList.add('info');\n\n  const infoKeyDownloads = document.createElement('h5');\n  infoKeyDownloads.classList.add('key');\n  infoKeyDownloads.textContent = 'Downloads';\n  infoDivDownloads.appendChild(infoKeyDownloads);\n\n  const infoValueDownloads = document.createElement('p');\n  infoValueDownloads.classList.add('value');\n  infoValueDownloads.textContent = photoInfo.downloads;\n  infoDivDownloads.appendChild(infoValueDownloads);\n\n  contentDiv.appendChild(infoDivLikes);\n  contentDiv.appendChild(infoDivViews);\n  contentDiv.appendChild(infoDivComments);\n  contentDiv.appendChild(infoDivDownloads);\n\n  itemLink.appendChild(img);\n  item.appendChild(contentDiv);\n  item.appendChild(itemLink);\n  galleryList.appendChild(item);\n};\n\nlet galleryBox = new SimpleLightbox('.gallery li > a', {\n  captionsData: 'alt',\n  captionDelay: 350,\n});\n\nconst searchPhotos = (search, page) => {\n  return new Promise(async (resolve, reject) => {\n    console.log('SearchPhotos() ', search, page);\n\n    if (page > searchMaxPage) {\n      searchActivePage = 1;\n      page = 1;\n    } else {\n      const pixabayResponse = await axios.get('https://pixabay.com/api/', {\n        params: {\n          key: '21250106-0015933422f1e636de5f184b8',\n          q: search,\n          image_type: 'photo',\n          orientation: 'horizontal',\n          safesearch: true,\n          page: page,\n          per_page: 40,\n        },\n      });\n\n      searchMaxPage = parseFloat(\n        pixabayResponse.data.totalHits / pixabayResponse.data.hits.length,\n      ).toFixed(0);\n\n      console.log(`\n        Search Active Text: ${searchText}\n        Search Active Page: ${searchActivePage}\n        Search Max Page: ${searchMaxPage}\n      `);\n\n      if (pixabayResponse.data.hits.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          color: 'red',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n      if (searchActivePage < searchMaxPage) {\n        document.querySelector('#nextPage').style.display = 'block';\n      }\n\n      resolve(pixabayResponse);\n    }\n  });\n};\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  galleryList.innerHTML = '';\n  const search = e.target.elements.search.value;\n  searchText = search;\n  searchActivePage = 1;\n  searchMaxPage = undefined;\n  if (search === '') {\n    iziToast.warning({\n      position: 'topRight',\n      message: 'Please enter a valid search query!',\n    });\n    return false;\n  } else {\n    const item = document.createElement('li');\n    item.classList.add('gallery-item');\n\n    const itemLoader = document.createElement('span');\n    itemLoader.classList.add('loader');\n\n    item.appendChild(itemLoader);\n    item.style.textAlign = 'center';\n    item.style.border = 'none';\n    galleryList.appendChild(item);\n\n    const photosResponse = await searchPhotos(search, searchActivePage);\n    const photos = photosResponse.data.hits;\n\n    galleryList.innerHTML = '';\n    if (photos.length === 0) {\n      iziToast.error({\n        position: 'topRight',\n        color: 'red',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      photos.forEach(photo => {\n        galleryItem(photo);\n      });\n      galleryBox.refresh();\n    }\n\n    e.target.reset();\n  }\n});\n\ndocument.querySelector('#nextPage').addEventListener('click', async e => {\n  searchActivePage++;\n  const search = searchText;\n  const photosResponse = await searchPhotos(search, searchActivePage);\n  const photos = photosResponse.data.hits;\n\n  if (photos.length === 0) {\n    iziToast.error({\n      position: 'topRight',\n      color: 'red',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  } else {\n    photos.forEach(photo => {\n      galleryItem(photo);\n    });\n\n    const galleryItemD = document.querySelector('.gallery img');\n    if (galleryItemD) {\n      const cardHeight = galleryItemD.getBoundingClientRect().height;\n      window.scrollBy({\n        top: cardHeight * 2.75,\n        behavior: 'smooth',\n      });\n    }\n\n    galleryBox.refresh();\n  }\n});\n"],"names":["form","galleryList","searchText","searchActivePage","searchMaxPage","galleryItem","photoInfo","item","itemLink","img","contentDiv","infoDivLikes","infoKeyLikes","infoValueLikes","infoDivViews","infoKeyViews","infoValueViews","infoDivComments","infoKeyComments","infoValueComments","infoDivDownloads","infoKeyDownloads","infoValueDownloads","galleryBox","SimpleLightbox","searchPhotos","search","page","resolve","reject","pixabayResponse","axios","iziToast","e","itemLoader","photos","photo","galleryItemD","cardHeight"],"mappings":"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"}